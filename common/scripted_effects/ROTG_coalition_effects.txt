###centerCoalition###

###add###

add_to_center_coalition_ni = {
	set_country_flag = center_ni_coalition
	custom_effect_tooltip = center_ni_coalition_tip
}

add_to_center_coalition_ds = {
	set_country_flag = center_ds_coalition
	custom_effect_tooltip = center_ds_coalition_tip
}

add_to_center_coalition_rc = {
	set_country_flag = center_rc_coalition
	custom_effect_tooltip = center_rc_coalition_tip
}

add_to_center_coalition_an = {
	set_country_flag = center_an_coalition
	custom_effect_tooltip = center_an_coalition_tip
}

add_to_center_coalition_cn = {
	set_country_flag = center_cn_coalition
	custom_effect_tooltip = center_cn_coalition_tip
}

add_to_center_coalition_lb = {
	set_country_flag = center_lb_coalition
	custom_effect_tooltip = center_lb_coalition_tip
}

add_to_center_coalition_ss = {
	set_country_flag = center_ss_coalition
	custom_effect_tooltip = center_ss_coalition_tip
}

add_to_center_coalition_jc = {
	set_country_flag = center_jc_coalition
	custom_effect_tooltip = center_jc_coalition_tip
}


###remove###

remove_from_center_coalition_ni = {
	clr_country_flag = center_ni_coalition
	custom_effect_tooltip = remove_center_ni_coalition_tip
}

remove_from_center_coalition_ds = {
	clr_country_flag = center_ds_coalition
	custom_effect_tooltip = remove_center_ds_coalition_tip
}

remove_from_center_coalition_rc = {
	clr_country_flag = center_rc_coalition
	custom_effect_tooltip = remove_center_rc_coalition_tip
}

remove_from_center_coalition_an = {
	clr_country_flag = center_an_coalition
	custom_effect_tooltip = remove_center_an_coalition_tip
}

remove_from_center_coalition_cn = {
	clr_country_flag = center_cn_coalition
	custom_effect_tooltip = remove_center_cn_coalition_tip
}

remove_from_center_coalition_lb = {
	clr_country_flag = center_lb_coalition
	custom_effect_tooltip = remove_center_lb_coalition_tip
}

remove_from_center_coalition_ss = {
	clr_country_flag = center_ss_coalition
	custom_effect_tooltip = remove_center_ss_coalition_tip
}

remove_from_center_coalition_jc = {
	clr_country_flag = center_jc_coalition
	custom_effect_tooltip = remove_center_jc_coalition_tip
}




###farleftCoalition###

###add###

add_to_farleft_coalition_ni = {
	set_country_flag = farleft_ni_coalition
	custom_effect_tooltip = farleft_ni_coalition_tip
}

add_to_farleft_coalition_ds = {
	set_country_flag = farleft_ds_coalition
	custom_effect_tooltip = farleft_ds_coalition_tip
}

add_to_farleft_coalition_rc = {
	set_country_flag = farleft_rc_coalition
	custom_effect_tooltip = farleft_rc_coalition_tip
}

add_to_farleft_coalition_an = {
	set_country_flag = farleft_an_coalition
	custom_effect_tooltip = farleft_an_coalition_tip
}

add_to_farleft_coalition_cn = {
	set_country_flag = farleft_cn_coalition
	custom_effect_tooltip = farleft_cn_coalition_tip
}

add_to_farleft_coalition_lb = {
	set_country_flag = farleft_lb_coalition
	custom_effect_tooltip = farleft_lb_coalition_tip
}

add_to_farleft_coalition_ss = {
	set_country_flag = farleft_ss_coalition
	custom_effect_tooltip = farleft_ss_coalition_tip
}

add_to_farleft_coalition_jc = {
	set_country_flag = farleft_jc_coalition
	custom_effect_tooltip = farleft_jc_coalition_tip
}


###remove###

remove_from_farleft_coalition_ni = {
	clr_country_flag = farleft_ni_coalition
	custom_effect_tooltip = remove_farleft_ni_coalition_tip
}

remove_from_farleft_coalition_ds = {
	clr_country_flag = farleft_ds_coalition
	custom_effect_tooltip = remove_farleft_ds_coalition_tip
}

remove_from_farleft_coalition_rc = {
	clr_country_flag = farleft_rc_coalition
	custom_effect_tooltip = remove_farleft_rc_coalition_tip
}

remove_from_farleft_coalition_an = {
	clr_country_flag = farleft_an_coalition
	custom_effect_tooltip = remove_farleft_an_coalition_tip
}

remove_from_farleft_coalition_cn = {
	clr_country_flag = farleft_cn_coalition
	custom_effect_tooltip = remove_farleft_cn_coalition_tip
}

remove_from_farleft_coalition_lb = {
	clr_country_flag = farleft_lb_coalition
	custom_effect_tooltip = remove_farleft_lb_coalition_tip
}

remove_from_farleft_coalition_ss = {
	clr_country_flag = farleft_ss_coalition
	custom_effect_tooltip = remove_farleft_ss_coalition_tip
}

remove_from_farleft_coalition_jc = {
	clr_country_flag = farleft_jc_coalition
	custom_effect_tooltip = remove_farleft_jc_coalition_tip
}




###farrightCoalition###

###add###

add_to_farright_coalition_ni = {
	set_country_flag = farright_ni_coalition
	custom_effect_tooltip = farright_ni_coalition_tip
}

add_to_farright_coalition_ds = {
	set_country_flag = farright_ds_coalition
	custom_effect_tooltip = farright_ds_coalition_tip
}

add_to_farright_coalition_rc = {
	set_country_flag = farright_rc_coalition
	custom_effect_tooltip = farright_rc_coalition_tip
}

add_to_farright_coalition_an = {
	set_country_flag = farright_an_coalition
	custom_effect_tooltip = farright_an_coalition_tip
}

add_to_farright_coalition_cn = {
	set_country_flag = farright_cn_coalition
	custom_effect_tooltip = farright_cn_coalition_tip
}

add_to_farright_coalition_lb = {
	set_country_flag = farright_lb_coalition
	custom_effect_tooltip = farright_lb_coalition_tip
}

add_to_farright_coalition_ss = {
	set_country_flag = farright_ss_coalition
	custom_effect_tooltip = farright_ss_coalition_tip
}

add_to_farright_coalition_jc = {
	set_country_flag = farright_jc_coalition
	custom_effect_tooltip = farright_jc_coalition_tip
}


###remove###

remove_from_farright_coalition_ni = {
	clr_country_flag = farright_ni_coalition
	custom_effect_tooltip = remove_farright_ni_coalition_tip
}

remove_from_farright_coalition_ds = {
	clr_country_flag = farright_ds_coalition
	custom_effect_tooltip = remove_farright_ds_coalition_tip
}

remove_from_farright_coalition_rc = {
	clr_country_flag = farright_rc_coalition
	custom_effect_tooltip = remove_farright_rc_coalition_tip
}

remove_from_farright_coalition_an = {
	clr_country_flag = farright_an_coalition
	custom_effect_tooltip = remove_farright_an_coalition_tip
}

remove_from_farright_coalition_cn = {
	clr_country_flag = farright_cn_coalition
	custom_effect_tooltip = remove_farright_cn_coalition_tip
}

remove_from_farright_coalition_lb = {
	clr_country_flag = farright_lb_coalition
	custom_effect_tooltip = remove_farright_lb_coalition_tip
}

remove_from_farright_coalition_ss = {
	clr_country_flag = farright_ss_coalition
	custom_effect_tooltip = remove_farright_ss_coalition_tip
}

remove_from_farright_coalition_jc = {
	clr_country_flag = farright_jc_coalition
	custom_effect_tooltip = remove_farright_jc_coalition_tip
}




###rightCoalition###

###add###

add_to_right_coalition_ni = {
	set_country_flag = right_ni_coalition
	custom_effect_tooltip = right_ni_coalition_tip
}

add_to_right_coalition_ds = {
	set_country_flag = right_ds_coalition
	custom_effect_tooltip = right_ds_coalition_tip
}

add_to_right_coalition_rc = {
	set_country_flag = right_rc_coalition
	custom_effect_tooltip = right_rc_coalition_tip
}

add_to_right_coalition_an = {
	set_country_flag = right_an_coalition
	custom_effect_tooltip = right_an_coalition_tip
}

add_to_right_coalition_cn = {
	set_country_flag = right_cn_coalition
	custom_effect_tooltip = right_cn_coalition_tip
}

add_to_right_coalition_lb = {
	set_country_flag = right_lb_coalition
	custom_effect_tooltip = right_lb_coalition_tip
}

add_to_right_coalition_ss = {
	set_country_flag = right_ss_coalition
	custom_effect_tooltip = right_ss_coalition_tip
}

add_to_right_coalition_jc = {
	set_country_flag = right_jc_coalition
	custom_effect_tooltip = right_jc_coalition_tip
}


###remove###

remove_from_right_coalition_ni = {
	clr_country_flag = right_ni_coalition
	custom_effect_tooltip = remove_right_ni_coalition_tip
}

remove_from_right_coalition_ds = {
	clr_country_flag = right_ds_coalition
	custom_effect_tooltip = remove_right_ds_coalition_tip
}

remove_from_right_coalition_rc = {
	clr_country_flag = right_rc_coalition
	custom_effect_tooltip = remove_right_rc_coalition_tip
}

remove_from_right_coalition_an = {
	clr_country_flag = right_an_coalition
	custom_effect_tooltip = remove_right_an_coalition_tip
}

remove_from_right_coalition_cn = {
	clr_country_flag = right_cn_coalition
	custom_effect_tooltip = remove_right_cn_coalition_tip
}

remove_from_right_coalition_lb = {
	clr_country_flag = right_lb_coalition
	custom_effect_tooltip = remove_right_lb_coalition_tip
}

remove_from_right_coalition_ss = {
	clr_country_flag = right_ss_coalition
	custom_effect_tooltip = remove_right_ss_coalition_tip
}

remove_from_right_coalition_jc = {
	clr_country_flag = right_jc_coalition
	custom_effect_tooltip = remove_right_jc_coalition_tip
}




###RulingCoalition###

###add###

add_to_leading_coalition_ni = {
	set_country_flag = leading_coalition_ni
	custom_effect_tooltip = leading_coalition_ni_tip
}

add_to_leading_coalition_ds = {
	set_country_flag = leading_coalition_ds
	custom_effect_tooltip = leading_coalition_ds_tip
}

add_to_leading_coalition_rc = {
	set_country_flag = leading_coalition_rc
	custom_effect_tooltip = leading_coalition_rc_tip
}

add_to_leading_coalition_an = {
	set_country_flag = leading_coalition_an
	custom_effect_tooltip = leading_coalition_an_tip
}

add_to_leading_coalition_cn = {
	set_country_flag = leading_coalition_cn
	custom_effect_tooltip = leading_coalition_cn_tip
}

add_to_leading_coalition_lb = {
	set_country_flag = leading_coalition_lb
	custom_effect_tooltip = leading_coalition_lb_tip
}

add_to_leading_coalition_ss = {
	set_country_flag = leading_coalition_ss
	custom_effect_tooltip = leading_coalition_ss_tip
}

add_to_leading_coalition_jc = {
	set_country_flag = leading_coalition_jc
	custom_effect_tooltip = leading_coalition_jc_tip
}


###remove###

remove_from_leading_coalition_ni = {
	clr_country_flag = leading_coalition_ni
	custom_effect_tooltip = remove_leading_coalition_ni_tip
}

remove_from_leading_coalition_ds = {
	clr_country_flag = leading_coalition_ds
	custom_effect_tooltip = remove_leading_coalition_ds_tip
}

remove_from_leading_coalition_rc = {
	clr_country_flag = leading_coalition_rc
	custom_effect_tooltip = remove_leading_coalition_rc_tip
}

remove_from_leading_coalition_an = {
	clr_country_flag = leading_coalition_an
	custom_effect_tooltip = remove_leading_coalition_an_tip
}

remove_from_leading_coalition_cn = {
	clr_country_flag = leading_coalition_cn
	custom_effect_tooltip = remove_leading_coalition_cn_tip
}

remove_from_leading_coalition_lb = {
	clr_country_flag = leading_coalition_lb
	custom_effect_tooltip = remove_leading_coalition_lb_tip
}

remove_from_leading_coalition_ss = {
	clr_country_flag = leading_coalition_ss
	custom_effect_tooltip = remove_leading_coalition_ss_tip
}

remove_from_leading_coalition_jc = {
	clr_country_flag = leading_coalition_jc
	custom_effect_tooltip = remove_leading_coalition_jc_tip
}




###BanParties###

###add###

ban_party_ni = {
	set_country_flag = ni_banned
	custom_effect_tooltip = ban_ni_tip
}

ban_party_ds = {
	set_country_flag = ds_banned
	custom_effect_tooltip = ban_ds_tip
}

ban_party_rc = {
	set_country_flag = rc_banned
	custom_effect_tooltip = ban_rc_tip
}

ban_party_an = {
	set_country_flag = an_banned
	custom_effect_tooltip = ban_an_tip
}

ban_party_cn = {
	set_country_flag = cn_banned
	custom_effect_tooltip = ban_cn_tip
}

ban_party_lb = {
	set_country_flag = lb_banned
	custom_effect_tooltip = ban_lb_tip
}

ban_party_ss = {
	set_country_flag = ss_banned
	custom_effect_tooltip = ban_ss_tip
}

ban_party_jc = {
	set_country_flag = jc_banned
	custom_effect_tooltip = ban_jc_tip
}


###remove###

unban_party_ni = {
	clr_country_flag = ni_banned
	custom_effect_tooltip = remove_ban_ni_tip
}

unban_party_ds = {
	clr_country_flag = ds_banned
	custom_effect_tooltip = remove_ban_ds_tip
}

unban_party_rc = {
	clr_country_flag = rc_banned
	custom_effect_tooltip = remove_ban_rc_tip
}

unban_party_an = {
	clr_country_flag = an_banned
	custom_effect_tooltip = remove_ban_an_tip
}

unban_party_cn = {
	clr_country_flag = cn_banned
	custom_effect_tooltip = remove_ban_cn_tip
}

unban_party_lb = {
	clr_country_flag = lb_banned
	custom_effect_tooltip = remove_ban_lb_tip
}

unban_party_ss = {
	clr_country_flag = ss_banned
	custom_effect_tooltip = remove_ban_ss_tip
}

unban_party_jc = {
	clr_country_flag = jc_banned
	custom_effect_tooltip = remove_ban_jc_tip
}


###unbanAll###

unban_all_parties = {
	clr_country_flag = ni_banned
	clr_country_flag = ds_banned
	clr_country_flag = rc_banned
	clr_country_flag = an_banned
	clr_country_flag = cn_banned
	clr_country_flag = lb_banned
	clr_country_flag = ss_banned
	clr_country_flag = jc_banned
	custom_effect_tooltip = unban_all_parties_tip
}



###MakeCoalitionLeading###

make_center_coalition_leading = {
	if = {
		limit = { has_country_flag = center_ni_coalition }
		set_country_flag = leading_coalition_ni
	}
	if = {
		limit = { has_country_flag = center_ds_coalition }
		set_country_flag = leading_coalition_ds
	}
	if = {
		limit = { has_country_flag = center_rc_coalition }
		set_country_flag = leading_coalition_rc
	}
	if = {
		limit = { has_country_flag = center_an_coalition }
		set_country_flag = leading_coalition_an
	}
	if = {
		limit = { has_country_flag = center_cn_coalition }
		set_country_flag = leading_coalition_cn
	}
	if = {
		limit = { has_country_flag = center_lb_coalition }
		set_country_flag = leading_coalition_lb
	}
	if = {
		limit = { has_country_flag = center_ss_coalition }
		set_country_flag = leading_coalition_ss
	}
	if = {
		limit = { has_country_flag = center_jc_coalition }
		set_country_flag = leading_coalition_jc
	}
	custom_effect_tooltip = make_center_coalition_leading_tip
}

make_farleft_coalition_leading = {
	if = {
		limit = { has_country_flag = farleft_ni_coalition }
		set_country_flag = leading_coalition_ni
	}
	if = {
		limit = { has_country_flag = farleft_ds_coalition }
		set_country_flag = leading_coalition_ds
	}
	if = {
		limit = { has_country_flag = farleft_rc_coalition }
		set_country_flag = leading_coalition_rc
	}
	if = {
		limit = { has_country_flag = farleft_an_coalition }
		set_country_flag = leading_coalition_an
	}
	if = {
		limit = { has_country_flag = farleft_cn_coalition }
		set_country_flag = leading_coalition_cn
	}
	if = {
		limit = { has_country_flag = farleft_lb_coalition }
		set_country_flag = leading_coalition_lb
	}
	if = {
		limit = { has_country_flag = farleft_ss_coalition }
		set_country_flag = leading_coalition_ss
	}
	if = {
		limit = { has_country_flag = farleft_jc_coalition }
		set_country_flag = leading_coalition_jc
	}
	custom_effect_tooltip = make_farleft_coalition_leading_tip
}

make_farright_coalition_leading = {
	if = {
		limit = { has_country_flag = farright_ni_coalition }
		set_country_flag = leading_coalition_ni
	}
	if = {
		limit = { has_country_flag = farright_ds_coalition }
		set_country_flag = leading_coalition_ds
	}
	if = {
		limit = { has_country_flag = farright_rc_coalition }
		set_country_flag = leading_coalition_rc
	}
	if = {
		limit = { has_country_flag = farright_an_coalition }
		set_country_flag = leading_coalition_an
	}
	if = {
		limit = { has_country_flag = farright_cn_coalition }
		set_country_flag = leading_coalition_cn
	}
	if = {
		limit = { has_country_flag = farright_lb_coalition }
		set_country_flag = leading_coalition_lb
	}
	if = {
		limit = { has_country_flag = farright_ss_coalition }
		set_country_flag = leading_coalition_ss
	}
	if = {
		limit = { has_country_flag = farright_jc_coalition }
		set_country_flag = leading_coalition_jc
	}
	custom_effect_tooltip = make_farright_coalition_leading_tip
}

make_right_coalition_leading = {
	if = {
		limit = { has_country_flag = right_ni_coalition }
		set_country_flag = leading_coalition_ni
	}
	if = {
		limit = { has_country_flag = right_ds_coalition }
		set_country_flag = leading_coalition_ds
	}
	if = {
		limit = { has_country_flag = right_rc_coalition }
		set_country_flag = leading_coalition_rc
	}
	if = {
		limit = { has_country_flag = right_an_coalition }
		set_country_flag = leading_coalition_an
	}
	if = {
		limit = { has_country_flag = right_cn_coalition }
		set_country_flag = leading_coalition_cn
	}
	if = {
		limit = { has_country_flag = right_lb_coalition }
		set_country_flag = leading_coalition_lb
	}
	if = {
		limit = { has_country_flag = right_ss_coalition }
		set_country_flag = leading_coalition_ss
	}
	if = {
		limit = { has_country_flag = right_jc_coalition }
		set_country_flag = leading_coalition_jc
	}
	custom_effect_tooltip = make_right_coalition_leading_tip
}


	#BK System#
GetCoalitionPopularity = {
	if = {
		limit = {
			OR = {
				has_government = ni 
				has_government = ds
				AND = {
					has_government = rc
					has_country_flag = farright_rc_coalition
				}
				AND = {
					has_government = cn
					has_country_flag = farright_cn_coalition 
				}
			}
		}
		set_temp_variable = { temp_coalition1 = party_popularity@ruling_party }
		FarRightCoalition = yes
	}
	if = {
		limit = {
			OR = {
				has_government = jc
				AND = {
					has_government = ss
					has_country_flag = farleft_ss_coalition
				}
			}
		}
		set_temp_variable = { temp_coalition1 = party_popularity@ruling_party }
		FarLeftCoalition = yes
	}
	if = {
		limit = {
			OR = {
				has_government = cn
				AND = {
					has_government = lb
					has_country_flag = right_lb_coalition
				}
				AND = {
					has_government = rc
					has_country_flag = right_rc_coalition
				}
				AND = {
					has_government = an
					has_country_flag = right_an_coalition
				}
				AND = {
					has_government = ni
					has_country_flag = right_ni_coalition
				}
				AND = {
					has_government = ds
					has_country_flag = right_ds_coalition
				}
			}
		}
		set_temp_variable = { temp_coalition1 = party_popularity@ruling_party }
		RightCoalition = yes
	}
	if = {
		limit = {
			OR = {
				has_government = lb
				has_government = an
				AND = {
					has_government = ss
					has_country_flag = center_ss_coalition
				}
				AND = {
					has_government = cn
					has_country_flag = center_cn_coalition
				}				
			}
		}
		set_temp_variable = { temp_coalition1 = party_popularity@ruling_party }
		CenterCoalition = yes
	}
}

FarRightCoalition = {
	if = {
		limit = {
			has_country_flag = farright_ni_coalition
			NOT = { has_government = ni }
		}
		add_to_temp_variable = { temp_coalition1 = party_popularity@ni }
	}
	if = {
		limit = {
			has_country_flag = farright_ds_coalition
			NOT = { has_government = ds }
		}
		add_to_temp_variable = { temp_coalition1 = party_popularity@ds }
	}
	if = {
		limit = {
			has_country_flag = farright_cn_coalition
			NOT = { has_government = cn }
		}
		add_to_temp_variable = { temp_coalition1 = party_popularity@cn }
	}
	if = {
		limit = {
			has_country_flag = farright_rc_coalition
			NOT = { has_government = rc }
		}
		add_to_temp_variable = { temp_coalition1 = party_popularity@rc }
	}
	if = {
		limit = {
			has_country_flag = farright_lb_coalition
			NOT = { has_government = lb }
		}
		add_to_temp_variable = { temp_coalition1 = party_popularity@lb }
	}
	if = {
		limit = {
			has_country_flag = farright_an_coalition
			NOT = { has_government = an }
		}
		add_to_temp_variable = { temp_coalition1 = party_popularity@an }
	}
	if = {
		limit = {
			has_country_flag = farright_ss_coalition
			NOT = { has_government = ss }
		}
		add_to_temp_variable = { temp_coalition1 = party_popularity@ss }
	}
	if = {
		limit = {
			has_country_flag = farright_jc_coalition
			NOT = { has_government = jc }
		}
		add_to_temp_variable = { temp_coalition1 = party_popularity@jc }
	}
	multiply_temp_variable = { temp_coalition1 = 100 }
	set_variable = { coalition_popularity = temp_coalition1 }
	set_variable = { coalition_modifier = coalition_popularity }
	divide_variable = { coalition_modifier = 1000 }
	set_variable = { coalition_display = coalition_modifier }
	multiply_variable = { coalition_display = 100 }
}

FarLeftCoalition = {
	if = {
		limit = {
			has_country_flag = farleft_ni_coalition
			NOT = { has_government = ni }
		}
		add_to_temp_variable = { temp_coalition1 = party_popularity@ni }
	}
	if = {
		limit = {
			has_country_flag = farleft_ds_coalition
			NOT = { has_government = ds }
		}
		add_to_temp_variable = { temp_coalition1 = party_popularity@ds }
	}
	if = {
		limit = {
			has_country_flag = farleft_cn_coalition
			NOT = { has_government = cn }
		}
		add_to_temp_variable = { temp_coalition1 = party_popularity@cn }
	}
	if = {
		limit = {
			has_country_flag = farleft_rc_coalition
			NOT = { has_government = rc }
		}
		add_to_temp_variable = { temp_coalition1 = party_popularity@rc }
	}
	if = {
		limit = {
			has_country_flag = farleft_lb_coalition
			NOT = { has_government = lb }
		}
		add_to_temp_variable = { temp_coalition1 = party_popularity@lb }
	}
	if = {
		limit = {
			has_country_flag = farleft_an_coalition
			NOT = { has_government = an }
		}
		add_to_temp_variable = { temp_coalition1 = party_popularity@an }
	}
	if = {
		limit = {
			has_country_flag = farleft_ss_coalition
			NOT = { has_government = ss }
		}
		add_to_temp_variable = { temp_coalition1 = party_popularity@ss }
	}
	if = {
		limit = {
			has_country_flag = farleft_jc_coalition
			NOT = { has_government = jc }
		}
		add_to_temp_variable = { temp_coalition1 = party_popularity@jc }
	}
	multiply_temp_variable = { temp_coalition1 = 100 }
	set_variable = { coalition_popularity = temp_coalition1 }
	set_variable = { coalition_modifier = coalition_popularity }
	divide_variable = { coalition_modifier = 1000 }
	set_variable = { coalition_display = coalition_modifier }
	multiply_variable = { coalition_display = 100 }
}

RightCoalition = {
	if = {
		limit = {
			has_country_flag = right_ni_coalition
			NOT = { has_government = ni }
		}
		add_to_temp_variable = { temp_coalition1 = party_popularity@ni }
	}
	if = {
		limit = {
			has_country_flag = right_ds_coalition
			NOT = { has_government = ds }
		}
		add_to_temp_variable = { temp_coalition1 = party_popularity@ds }
	}
	if = {
		limit = {
			has_country_flag = right_cn_coalition
			NOT = { has_government = cn }
		}
		add_to_temp_variable = { temp_coalition1 = party_popularity@cn }
	}
	if = {
		limit = {
			has_country_flag = right_rc_coalition
			NOT = { has_government = rc }
		}
		add_to_temp_variable = { temp_coalition1 = party_popularity@rc }
	}
	if = {
		limit = {
			has_country_flag = right_lb_coalition
			NOT = { has_government = lb }
		}
		add_to_temp_variable = { temp_coalition1 = party_popularity@lb }
	}
	if = {
		limit = {
			has_country_flag = right_an_coalition
			NOT = { has_government = an }
		}
		add_to_temp_variable = { temp_coalition1 = party_popularity@an }
	}
	if = {
		limit = {
			has_country_flag = right_ss_coalition
			NOT = { has_government = ss }
		}
		add_to_temp_variable = { temp_coalition1 = party_popularity@ss }
	}
	if = {
		limit = {
			has_country_flag = right_jc_coalition
			NOT = { has_government = jc }
		}
		add_to_temp_variable = { temp_coalition1 = party_popularity@jc }
	}
	multiply_temp_variable = { temp_coalition1 = 100 }
	set_variable = { coalition_popularity = temp_coalition1 }
	set_variable = { coalition_modifier = coalition_popularity }
	divide_variable = { coalition_modifier = 1000 }
	set_variable = { coalition_display = coalition_modifier }
	multiply_variable = { coalition_display = 100 }
}

CenterCoalition = {
	if = {
		limit = {
			has_country_flag = center_ni_coalition
			NOT = { has_government = ni }
		}
		add_to_temp_variable = { temp_coalition1 = party_popularity@ni }
	}
	if = {
		limit = {
			has_country_flag = center_ds_coalition
			NOT = { has_government = ds }
		}
		add_to_temp_variable = { temp_coalition1 = party_popularity@ds }
	}
	if = {
		limit = {
			has_country_flag = center_cn_coalition
			NOT = { has_government = cn }
		}
		add_to_temp_variable = { temp_coalition1 = party_popularity@cn }
	}
	if = {
		limit = {
			has_country_flag = center_rc_coalition
			NOT = { has_government = rc }
		}
		add_to_temp_variable = { temp_coalition1 = party_popularity@rc }
	}
	if = {
		limit = {
			has_country_flag = center_lb_coalition
			NOT = { has_government = lb }
		}
		add_to_temp_variable = { temp_coalition1 = party_popularity@lb }
	}
	if = {
		limit = {
			has_country_flag = center_an_coalition
			NOT = { has_government = an }
		}
		add_to_temp_variable = { temp_coalition1 = party_popularity@an }
	}
	if = {
		limit = {
			has_country_flag = center_ss_coalition
			NOT = { has_government = ss }
		}
		add_to_temp_variable = { temp_coalition1 = party_popularity@ss }
	}
	if = {
		limit = {
			has_country_flag = center_jc_coalition
			NOT = { has_government = jc }
		}
		add_to_temp_variable = { temp_coalition1 = party_popularity@jc }
	}
	multiply_temp_variable = { temp_coalition1 = 100 }
	set_variable = { coalition_popularity = temp_coalition1 }
	set_variable = { coalition_modifier = coalition_popularity }
	divide_variable = { coalition_modifier = 1000 }
	set_variable = { coalition_display = coalition_modifier }
	multiply_variable = { coalition_display = 100 }
}

GetBannedPopularity = {
	set_temp_variable = { temp_banned1 = 0 }
	if = {
		limit = {
			has_country_flag = ni_banned
		}
		add_to_temp_variable = { temp_banned1 = party_popularity@ni }
	}
	if = {
		limit = {
			has_country_flag = ds_banned
		}
		add_to_temp_variable = { temp_banned1 = party_popularity@ds }
	}
	if = {
		limit = {
			has_country_flag = rc_banned
		}
		add_to_temp_variable = { temp_banned1 = party_popularity@rc }
	}
	if = {
		limit = {
			has_country_flag = cn_banned
		}
		add_to_temp_variable = { temp_banned1 = party_popularity@cn }
	}
	if = {
		limit = {
			has_country_flag = lb_banned
		}
		add_to_temp_variable = { temp_banned1 = party_popularity@lb }
	}
	if = {
		limit = {
			has_country_flag = an_banned
		}
		add_to_temp_variable = { temp_banned1 = party_popularity@an }
	}
	if = {
		limit = {
			has_country_flag = ss_banned
		}
		add_to_temp_variable = { temp_banned1 = party_popularity@ss }
	}
	if = {
		limit = {
			has_country_flag = jc_banned
		}
		add_to_temp_variable = { temp_banned1 = party_popularity@jc }
	}
	multiply_temp_variable = { temp_banned1 = -100 }
	set_variable = { banned_popularity = temp_banned1 }
	set_variable = { banned_modifier = banned_popularity }
	divide_variable = { banned_modifier = 1000 }
	set_variable = { banned_display = banned_modifier }
	multiply_variable = { banned_display = 100 }
}

Coalitions_CLEAR_ALL = {
	clr_country_flag = leading_coalition_ni
	remove_ideas = _coalition_leader

	clr_country_flag = leading_coalition_ds
	remove_ideas = ds_coalition_leader

	clr_country_flag = leading_coalition_rc
	remove_ideas = rc_coalition_leader

	clr_country_flag = leading_coalition_an
	remove_ideas = an_coalition_leader

	clr_country_flag = leading_coalition_cn
	remove_ideas = cn_coalition_leader

	clr_country_flag = leading_coalition_lb
	remove_ideas = lb_coalition_leader

	clr_country_flag = leading_coalition_ss
	remove_ideas = ss_coalition_leader

	clr_country_flag = leading_coalition_jc
	remove_ideas = jc_coalition_leader
}